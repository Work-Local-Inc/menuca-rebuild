{"level":"error","message":"Error during shutdown: Called end on pool more than once","stack":"Error: Called end on pool more than once\n    at BoundPool.end (/Users/brianlapp/Documents/GitHub/menuca-rebuild/node_modules/pg-pool/index.js:453:19)\n    at DatabaseConnection.close (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/database/connection.ts:142:21)\n    at /Users/brianlapp/Documents/GitHub/menuca-rebuild/src/server/app.ts:308:20\n    at Server.close (node:net:2323:9)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at Server.emit (node:domain:489:12)\n    at emitCloseNT (node:net:2383:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:964:11)\n    at Socket._write (node:net:976:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/Users/brianlapp/Documents/GitHub/menuca-rebuild/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/Users/brianlapp/Documents/GitHub/menuca-rebuild/node_modules/winston-transport/modern.js:82:19)\n    at doWrite (/Users/brianlapp/Documents/GitHub/menuca-rebuild/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write"}
{"error":"syntax error at or near \"$1\"","ip":"::1","level":"error","message":"Unhandled error:","method":"GET","stack":"error: syntax error at or near \"$1\"\n    at /Users/brianlapp/Documents/GitHub/menuca-rebuild/node_modules/pg/lib/client.js:545:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MenuService.executeWithTenant (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/services/MenuService.ts:411:7)\n    at async Promise.all (index 0)\n    at async MenuService.getRestaurants (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/services/MenuService.ts:137:39)\n    at async /Users/brianlapp/Documents/GitHub/menuca-rebuild/src/routes/menu.ts:31:20","tenant":"00000000-0000-0000-0000-000000000000","url":"/api/v1/menu/restaurants"}
{"error":"syntax error at or near \"$1\"","ip":"::1","level":"error","message":"Unhandled error:","method":"GET","stack":"error: syntax error at or near \"$1\"\n    at /Users/brianlapp/Documents/GitHub/menuca-rebuild/node_modules/pg/lib/client.js:545:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MenuService.executeWithTenant (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/services/MenuService.ts:411:7)\n    at async Promise.all (index 1)\n    at async MenuService.getRestaurants (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/services/MenuService.ts:137:39)\n    at async /Users/brianlapp/Documents/GitHub/menuca-rebuild/src/routes/menu.ts:31:20","tenant":"00000000-0000-0000-0000-000000000000","url":"/api/v1/menu/restaurants"}
{"error":"syntax error at or near \"$1\"","ip":"::1","level":"error","message":"Unhandled error:","method":"GET","stack":"error: syntax error at or near \"$1\"\n    at /Users/brianlapp/Documents/GitHub/menuca-rebuild/node_modules/pg/lib/client.js:545:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MenuService.executeWithTenant (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/services/MenuService.ts:411:7)\n    at async Promise.all (index 1)\n    at async MenuService.getRestaurants (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/services/MenuService.ts:137:39)\n    at async /Users/brianlapp/Documents/GitHub/menuca-rebuild/src/routes/menu.ts:31:20","tenant":"00000000-0000-0000-0000-000000000000","url":"/api/v1/menu/restaurants"}
{"error":"syntax error at or near \"$1\"","ip":"::1","level":"error","message":"Unhandled error:","method":"GET","stack":"error: syntax error at or near \"$1\"\n    at /Users/brianlapp/Documents/GitHub/menuca-rebuild/node_modules/pg/lib/client.js:545:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MenuService.executeWithTenant (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/services/MenuService.ts:411:7)\n    at async Promise.all (index 1)\n    at async MenuService.getRestaurants (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/services/MenuService.ts:137:39)\n    at async /Users/brianlapp/Documents/GitHub/menuca-rebuild/src/routes/menu.ts:31:20","tenant":"00000000-0000-0000-0000-000000000000","url":"/api/v1/menu/restaurants"}
{"error":"syntax error at or near \"$1\"","ip":"::1","level":"error","message":"Unhandled error:","method":"GET","stack":"error: syntax error at or near \"$1\"\n    at /Users/brianlapp/Documents/GitHub/menuca-rebuild/node_modules/pg/lib/client.js:545:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MenuService.executeWithTenant (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/services/MenuService.ts:411:7)\n    at async Promise.all (index 0)\n    at async MenuService.getRestaurants (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/services/MenuService.ts:137:39)\n    at async /Users/brianlapp/Documents/GitHub/menuca-rebuild/src/routes/menu.ts:31:20","tenant":"00000000-0000-0000-0000-000000000000","url":"/api/v1/menu/restaurants"}
{"error":"syntax error at or near \"$1\"","ip":"::1","level":"error","message":"Unhandled error:","method":"GET","stack":"error: syntax error at or near \"$1\"\n    at /Users/brianlapp/Documents/GitHub/menuca-rebuild/node_modules/pg/lib/client.js:545:17\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MenuService.executeWithTenant (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/services/MenuService.ts:411:7)\n    at async Promise.all (index 1)\n    at async MenuService.getRestaurants (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/services/MenuService.ts:137:39)\n    at async /Users/brianlapp/Documents/GitHub/menuca-rebuild/src/routes/menu.ts:31:20","tenant":"00000000-0000-0000-0000-000000000000","url":"/api/v1/menu/restaurants"}
{"code":"EPIPE","errno":-32,"level":"error","message":"Uncaught Exception: write EPIPE","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:964:11)\n    at Socket._write (node:net:976:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Socket.Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/Users/brianlapp/Documents/GitHub/menuca-rebuild/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/Users/brianlapp/Documents/GitHub/menuca-rebuild/node_modules/winston-transport/modern.js:82:19)\n    at doWrite (/Users/brianlapp/Documents/GitHub/menuca-rebuild/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write"}
{"level":"error","message":"Failed to start server: Failed to connect to database","stack":"Error: Failed to connect to database\n    at MenuCAServer.start (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/server/app.ts:301:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Failed to start server: Failed to connect to database","stack":"Error: Failed to connect to database\n    at MenuCAServer.start (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/server/app.ts:301:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Failed to start server: Failed to connect to database","stack":"Error: Failed to connect to database\n    at MenuCAServer.start (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/server/app.ts:309:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Failed to start server: Failed to connect to database","stack":"Error: Failed to connect to database\n    at MenuCAServer.start (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/server/app.ts:309:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Failed to start server: Failed to connect to database","stack":"Error: Failed to connect to database\n    at MenuCAServer.start (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/server/app.ts:309:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Failed to start server: Failed to connect to database","stack":"Error: Failed to connect to database\n    at MenuCAServer.start (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/server/app.ts:309:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Failed to start server: Failed to connect to database","stack":"Error: Failed to connect to database\n    at MenuCAServer.start (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/server/app.ts:309:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Failed to start server: Failed to connect to database","stack":"Error: Failed to connect to database\n    at MenuCAServer.start (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/server/app.ts:309:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Failed to start server: Failed to connect to database","stack":"Error: Failed to connect to database\n    at MenuCAServer.start (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/server/app.ts:309:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Failed to start server: Failed to connect to database","stack":"Error: Failed to connect to database\n    at MenuCAServer.start (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/server/app.ts:309:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Failed to start server: Failed to connect to database","stack":"Error: Failed to connect to database\n    at MenuCAServer.start (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/server/app.ts:311:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Failed to start server: Failed to connect to database","stack":"Error: Failed to connect to database\n    at MenuCAServer.start (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/server/app.ts:311:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Failed to start server: Failed to connect to database","stack":"Error: Failed to connect to database\n    at MenuCAServer.start (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/server/app.ts:322:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Failed to start server: Failed to connect to database","stack":"Error: Failed to connect to database\n    at MenuCAServer.start (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/server/app.ts:322:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
{"level":"error","message":"Failed to start server: Failed to connect to database","stack":"Error: Failed to connect to database\n    at MenuCAServer.start (/Users/brianlapp/Documents/GitHub/menuca-rebuild/src/server/app.ts:322:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"}
