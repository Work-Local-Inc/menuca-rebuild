(()=>{var e={};e.id=736,e.ids=[736],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8807:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>o});var a=t(7096),n=t(6132),r=t(7284),i=t.n(r),l=t(2564),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let o=["",{children:["dashboard-disabled",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3531)),"/Users/brianlapp/Documents/GitHub/menuca-rebuild/app/dashboard-disabled/settings/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5345)),"/Users/brianlapp/Documents/GitHub/menuca-rebuild/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/brianlapp/Documents/GitHub/menuca-rebuild/app/dashboard-disabled/settings/page.tsx"],u="/dashboard-disabled/settings/page",p={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/dashboard-disabled/settings/page",pathname:"/dashboard-disabled/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},2174:(e,s,t)=>{Promise.resolve().then(t.bind(t,669))},669:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>SettingsClient});var a=t(784),n=t(9885);let r=process.env.NEXT_PUBLIC_DEFAULT_BUSINESS_ID||"";function SettingsClient(){let[e,s]=(0,n.useState)(r),[t,i]=(0,n.useState)(null),[l,d]=(0,n.useState)(!1),[o,c]=(0,n.useState)(!1),[u,p]=(0,n.useState)(null),[x,m]=(0,n.useState)(null);(0,n.useEffect)(()=>{e&&(d(!0),p(null),fetch(`/api/business-settings?business_id=${encodeURIComponent(e)}`).then(async e=>{if(!e.ok){let s=await e.json().catch(()=>({}));throw Error(s?.message||`Failed to load settings (${e.status})`)}return e.json()}).then(e=>{i(e.business)}).catch(e=>p(e.message)).finally(()=>d(!1)))},[e]);let onSave=async()=>{if(t){c(!0),p(null),m(null);try{let e=await fetch(`/api/business-settings?business_id=${encodeURIComponent(t.id)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await e.json().catch(()=>({}));if(!e.ok)throw Error(s?.message||`Failed to save (${e.status})`);i(s.business),m("Saved")}catch(e){p(e?.message||String(e))}finally{c(!1)}}};return(0,a.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Business Settings"}),!r&&(0,a.jsxs)("div",{className:"p-3 rounded bg-yellow-50 text-yellow-800",children:["Set ",a.jsx("code",{children:"NEXT_PUBLIC_DEFAULT_BUSINESS_ID"})," to auto-load a business, or pass ",a.jsx("code",{children:"?business_id="}),"."]}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[a.jsx("input",{className:"border px-3 py-2 rounded w-full",placeholder:"Business ID",value:e,onChange:e=>s(e.target.value)}),a.jsx("button",{onClick:()=>s(e),className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Load"})]}),l&&a.jsx("div",{children:"Loading..."}),u&&a.jsx("div",{className:"p-3 rounded bg-red-50 text-red-700",children:u}),x&&a.jsx("div",{className:"p-3 rounded bg-green-50 text-green-700",children:x}),t&&(0,a.jsxs)("div",{className:"space-y-4 bg-white p-4 rounded shadow",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Name"}),a.jsx("input",{className:"border px-3 py-2 rounded w-full",value:t.name,onChange:e=>i({...t,name:e.target.value})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Phone"}),a.jsx("input",{className:"border px-3 py-2 rounded w-full",value:t.phone||"",onChange:e=>i({...t,phone:e.target.value})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Timezone"}),a.jsx("input",{className:"border px-3 py-2 rounded w-full",value:t.timezone||"",onChange:e=>i({...t,timezone:e.target.value})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Currency"}),a.jsx("input",{className:"border px-3 py-2 rounded w-full",value:t.currency||"",onChange:e=>i({...t,currency:e.target.value})})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Order Limit"}),a.jsx("input",{type:"number",className:"border px-3 py-2 rounded w-full",value:t.order_limit||0,onChange:e=>i({...t,order_limit:Number(e.target.value)})})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("input",{id:"is_open",type:"checkbox",checked:!!t.is_open,onChange:e=>i({...t,is_open:e.target.checked})}),a.jsx("label",{htmlFor:"is_open",children:"Open for orders"})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx("button",{onClick:onSave,disabled:o,className:"px-4 py-2 bg-blue-600 text-white rounded",children:o?"Saving...":"Save"})})]})]})}},3531:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>Page});var a=t(4656),n=t(3542),r=t(5153);let i=(0,r.createProxy)(String.raw`/Users/brianlapp/Documents/GitHub/menuca-rebuild/app/dashboard-disabled/settings/SettingsClient.tsx`),{__esModule:l,$$typeof:d}=i,o=i.default;function Page(){return a.jsx(n.Suspense,{fallback:a.jsx("div",{children:"Loading..."}),children:a.jsx("div",{className:"p-6",children:a.jsx(o,{})})})}},784:(e,s,t)=>{"use strict";e.exports=t(316).vendored["react-ssr"].ReactJsxRuntime}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[472,68],()=>__webpack_exec__(8807));module.exports=t})();