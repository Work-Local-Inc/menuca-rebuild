"use strict";(()=>{var e={};e.id=7011,e.ids=[7011],e.modules={1287:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},9516:(e,t,r)=>{r.r(t),r.d(t,{config:()=>u,default:()=>i,routeModule:()=>l});var a={};r.r(a),r.d(a,{default:()=>handler});var n=r(1802),o=r(7153),s=r(6249),d=r(928);async function handler(e,t){if("POST"!==e.method)return t.status(405).json({error:"Method not allowed"});try{let{order:r}=e.body;if(!r)return t.status(400).json({error:"Missing order data in request body"});let a=parseInt(r.id)||Date.now()%1e5,n=(0,d.j2)(r,a);return t.status(200).json({debug_info:{message:"This is what would be sent to tablet.menu.ca",endpoint:"https://tablet.menu.ca/action.php",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","User-Agent":"MenuCA-Platform/1.0"}},original_order:r,formatted_tablet_order:n,analysis:{restaurant_id:n.restaurant_id,id:n.id,ver:n.ver,delivery_type:n.delivery_type,item_count:n.order.length,total_price_cents:n.order.reduce((e,t)=>e+t.price*t.qty,0)}})}catch(e){return t.status(500).json({error:"Debug failed",message:e instanceof Error?e.message:"Unknown error"})}}let i=(0,s.l)(a,"default"),u=(0,s.l)(a,"config"),l=new n.PagesAPIRouteModule({definition:{kind:o.x.PAGES_API,page:"/api/debug-tablet-order",pathname:"/api/debug-tablet-order",bundlePath:"",filename:""},userland:a})}};var t=require("../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[4222,928],()=>__webpack_exec__(9516));module.exports=r})();