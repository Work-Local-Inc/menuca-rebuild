(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[230],{7888:function(e,s,a){Promise.resolve().then(a.bind(a,2874))},2874:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return RestaurantDashboard}});var r=a(7437),t=a(2265),n=a(4033),l=a(9598),i=a(3611),c=a(708),d=a(8892),o=a(7865);let x=(0,o.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var m=a(3464),u=a(1023);let h=(0,o.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);var g=a(4584);let p=(0,o.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),f=(0,o.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var j=a(8523);let y=(0,o.Z)("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),N=(0,o.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),v=(0,o.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var b=a(1666);let w={id:"xtreme-pizza",name:"Xtreme Pizza Ottawa",cuisine_type:"Italian",status:"active",rating:4.8,total_orders:1247,today_revenue:324.5},k={pending:3,preparing:5,ready:2,total_today:28,revenue_today:324.5};function RestaurantDashboard(){let e=(0,n.useParams)(),s=(0,n.useRouter)(),a=null==e?void 0:e.id,[o,Z]=(0,t.useState)(null),[C,z]=(0,t.useState)(null),[D,M]=(0,t.useState)(!0);(0,t.useEffect)(()=>{loadDashboardData();let e=setInterval(loadDashboardData,3e4);return()=>clearInterval(e)},[a]);let loadDashboardData=async()=>{try{console.log("\uD83D\uDD0D Loading dashboard data for restaurant:",a);let e=await fetch("/api/restaurants/".concat(a));if(!e.ok)throw Error("Failed to fetch restaurant data");let s=await e.json();console.log("✅ Loaded restaurant data:",s.restaurant.name),Z(s.restaurant),z(k)}catch(e){console.error("❌ Error loading dashboard data:",e),Z(w),z(k)}finally{M(!1)}};return D?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(d.Z,{className:"h-12 w-12 text-orange-600 animate-bounce mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-lg text-gray-600",children:"Loading your dashboard..."})]})}):o?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("div",{className:"bg-white shadow-sm",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-400 to-red-500 rounded-lg flex items-center justify-center",children:(0,r.jsx)(d.Z,{className:"h-6 w-6 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:o.name}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,r.jsx)(c.C,{className:"bg-green-100 text-green-800",children:"active"===o.status?"\uD83D\uDFE2 Live":"\uD83D\uDD34 Offline"}),(0,r.jsx)("span",{children:o.cuisine_type}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(m.Z,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),(0,r.jsx)("span",{children:o.rating})]})]})]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(i.z,{variant:"outline",onClick:()=>s.push("/menu/".concat(a)),className:"flex items-center gap-2",children:[(0,r.jsx)(u.Z,{className:"h-4 w-4"}),"View Menu"]}),(0,r.jsxs)(i.z,{variant:"outline",onClick:()=>s.push("/restaurant/".concat(a,"/menu")),className:"flex items-center gap-2",children:[(0,r.jsx)(h,{className:"h-4 w-4"}),"Edit Menu"]})]})]})})}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)(l.Zb,{children:(0,r.jsx)(l.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Orders Today"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:null==C?void 0:C.total_today})]}),(0,r.jsx)(g.Z,{className:"h-8 w-8 text-orange-600"})]})})}),(0,r.jsx)(l.Zb,{children:(0,r.jsx)(l.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Revenue Today"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",null==C?void 0:C.revenue_today.toFixed(2)]})]}),(0,r.jsx)(p,{className:"h-8 w-8 text-green-600"})]})})}),(0,r.jsx)(l.Zb,{children:(0,r.jsx)(l.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Rating"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:o.rating})]}),(0,r.jsx)(m.Z,{className:"h-8 w-8 text-yellow-500"})]})})}),(0,r.jsx)(l.Zb,{children:(0,r.jsx)(l.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Total Orders"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:o.total_orders})]}),(0,r.jsx)(f,{className:"h-8 w-8 text-blue-600"})]})})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[(0,r.jsxs)(l.Zb,{children:[(0,r.jsx)(l.Ol,{children:(0,r.jsxs)(l.ll,{className:"flex items-center gap-2 text-yellow-700",children:[(0,r.jsx)(j.Z,{className:"h-5 w-5"}),"Pending Orders (",null==C?void 0:C.pending,")"]})}),(0,r.jsx)(l.aY,{children:(0,r.jsx)("div",{className:"space-y-3",children:(null==C?void 0:C.pending)===0?(0,r.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No pending orders"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-yellow-50 p-3 rounded border-l-4 border-yellow-400",children:[(0,r.jsx)("p",{className:"font-semibold",children:"Order #12345"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"2x Margherita Pizza • $33.98"}),(0,r.jsx)("p",{className:"text-xs text-yellow-700",children:"Needs acceptance"})]}),(0,r.jsxs)("div",{className:"bg-yellow-50 p-3 rounded border-l-4 border-yellow-400",children:[(0,r.jsx)("p",{className:"font-semibold",children:"Order #12346"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"1x Meat Lovers • $24.99"}),(0,r.jsx)("p",{className:"text-xs text-yellow-700",children:"Needs acceptance"})]})]})})})]}),(0,r.jsxs)(l.Zb,{children:[(0,r.jsx)(l.Ol,{children:(0,r.jsxs)(l.ll,{className:"flex items-center gap-2 text-orange-700",children:[(0,r.jsx)(d.Z,{className:"h-5 w-5"}),"Preparing (",null==C?void 0:C.preparing,")"]})}),(0,r.jsx)(l.aY,{children:(0,r.jsx)("div",{className:"space-y-3",children:(null==C?void 0:C.preparing)===0?(0,r.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No orders preparing"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-orange-50 p-3 rounded border-l-4 border-orange-400",children:[(0,r.jsx)("p",{className:"font-semibold",children:"Order #12340"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"1x Hawaiian Pizza • $18.99"}),(0,r.jsx)("p",{className:"text-xs text-orange-700",children:"Prep time: 12 min"})]}),(0,r.jsxs)("div",{className:"bg-orange-50 p-3 rounded border-l-4 border-orange-400",children:[(0,r.jsx)("p",{className:"font-semibold",children:"Order #12341"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Wings + Caesar Salad • $27.98"}),(0,r.jsx)("p",{className:"text-xs text-orange-700",children:"Prep time: 8 min"})]})]})})})]}),(0,r.jsxs)(l.Zb,{children:[(0,r.jsx)(l.Ol,{children:(0,r.jsxs)(l.ll,{className:"flex items-center gap-2 text-green-700",children:[(0,r.jsx)(y,{className:"h-5 w-5"}),"Ready (",null==C?void 0:C.ready,")"]})}),(0,r.jsx)(l.aY,{children:(0,r.jsx)("div",{className:"space-y-3",children:(null==C?void 0:C.ready)===0?(0,r.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No orders ready"}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"bg-green-50 p-3 rounded border-l-4 border-green-400",children:[(0,r.jsx)("p",{className:"font-semibold",children:"Order #12338"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"2x Pepperoni • $39.98"}),(0,r.jsx)("p",{className:"text-xs text-green-700",children:"Ready for pickup"})]})})})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)(i.z,{onClick:()=>s.push("/restaurant/".concat(a,"/orders")),className:"h-20 flex flex-col items-center justify-center bg-orange-600 hover:bg-orange-700",children:[(0,r.jsx)(g.Z,{className:"h-6 w-6 mb-1"}),(0,r.jsx)("span",{children:"Manage Orders"})]}),(0,r.jsxs)(i.z,{variant:"outline",onClick:()=>s.push("/restaurant/".concat(a,"/menu")),className:"h-20 flex flex-col items-center justify-center",children:[(0,r.jsx)(N,{className:"h-6 w-6 mb-1"}),(0,r.jsx)("span",{children:"Edit Menu"})]}),(0,r.jsxs)(i.z,{variant:"outline",onClick:()=>s.push("/menu/".concat(a)),className:"h-20 flex flex-col items-center justify-center",children:[(0,r.jsx)(u.Z,{className:"h-6 w-6 mb-1"}),(0,r.jsx)("span",{children:"View Live Menu"})]}),(0,r.jsxs)(i.z,{variant:"outline",onClick:()=>s.push("/restaurant/".concat(a,"/settings")),className:"h-20 flex flex-col items-center justify-center",children:[(0,r.jsx)(v,{className:"h-6 w-6 mb-1"}),(0,r.jsx)("span",{children:"Settings"})]})]}),(0,r.jsx)(l.Zb,{className:"mt-8 bg-gradient-to-r from-orange-50 to-red-50 border-orange-200",children:(0,r.jsx)(l.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:(0,r.jsx)(b.Z,{className:"h-6 w-6 text-orange-600"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-orange-900 mb-2",children:"\uD83C\uDF89 Welcome to MenuCA! Your restaurant is LIVE!"}),(0,r.jsx)("p",{className:"text-orange-800 mb-4",children:"Your menu has been imported and customers can now place orders. Here's what you can do next:"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("p",{className:"font-medium text-orange-900",children:"✅ Immediate Actions:"}),(0,r.jsxs)("ul",{className:"space-y-1 text-orange-800",children:[(0,r.jsx)("li",{children:"• Review and edit imported menu items"}),(0,r.jsx)("li",{children:"• Set up order notifications"}),(0,r.jsx)("li",{children:"• Test the customer ordering experience"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("p",{className:"font-medium text-orange-900",children:"\uD83D\uDE80 Growth Features:"}),(0,r.jsxs)("ul",{className:"space-y-1 text-orange-800",children:[(0,r.jsx)("li",{children:"• Upload high-quality food photos"}),(0,r.jsx)("li",{children:"• Configure delivery zones"}),(0,r.jsx)("li",{children:"• Set up promotional campaigns"})]})]})]}),(0,r.jsxs)("div",{className:"mt-4 flex gap-3",children:[(0,r.jsx)(i.z,{size:"sm",onClick:()=>s.push("/restaurant/".concat(a,"/menu")),className:"bg-orange-600 hover:bg-orange-700",children:"Edit Menu Items"}),(0,r.jsx)(i.z,{size:"sm",variant:"outline",onClick:()=>s.push("/menu/".concat(a)),children:"Test Customer Experience"})]})]})]})})})]})]}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsx)(l.Zb,{className:"max-w-md",children:(0,r.jsxs)(l.aY,{className:"p-8 text-center",children:[(0,r.jsx)(x,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),(0,r.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Restaurant not found"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"This restaurant doesn't exist or you don't have access."}),(0,r.jsx)(i.z,{onClick:()=>s.push("/restaurant/onboard"),children:"Create New Restaurant"})]})})})}},708:function(e,s,a){"use strict";a.d(s,{C:function(){return l}});var r=a(7437),t=a(2265),n=a(1628);let l=t.forwardRef((e,s)=>{let{className:a,variant:t="default",...l}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{default:"bg-primary hover:bg-primary/80 text-primary-foreground",secondary:"bg-secondary hover:bg-secondary/80 text-secondary-foreground",destructive:"bg-destructive hover:bg-destructive/80 text-destructive-foreground",outline:"text-foreground border border-input"}[t],a),...l})});l.displayName="Badge"},3611:function(e,s,a){"use strict";a.d(s,{z:function(){return l}});var r=a(7437),t=a(2265),n=a(1628);let l=t.forwardRef((e,s)=>{let{className:a,variant:t="default",size:l="default",...i}=e;return(0,r.jsx)("button",{className:(0,n.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"}[t],{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}[l],a),ref:s,...i})});l.displayName="Button"},9598:function(e,s,a){"use strict";a.d(s,{Ol:function(){return i},Zb:function(){return l},aY:function(){return o},ll:function(){return c}});var r=a(7437),t=a(2265),n=a(1628);let l=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...t})});l.displayName="Card";let i=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...t})});i.displayName="CardHeader";let c=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...t})});c.displayName="CardTitle";let d=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...t})});d.displayName="CardDescription";let o=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",a),...t})});o.displayName="CardContent";let x=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",a),...t})});x.displayName="CardFooter"},1628:function(e,s,a){"use strict";a.d(s,{cn:function(){return cn}});var r=a(7042),t=a(3986);function cn(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,t.m)((0,r.W)(s))}},1666:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});var r=a(7865);let t=(0,r.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]])},8523:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});var r=a(7865);let t=(0,r.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},1023:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});var r=a(7865);let t=(0,r.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4584:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});var r=a(7865);let t=(0,r.Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])}},function(e){e.O(0,[609,971,472,744],function(){return e(e.s=7888)}),_N_E=e.O()}]);