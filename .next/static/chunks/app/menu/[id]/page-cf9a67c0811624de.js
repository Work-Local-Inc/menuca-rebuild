(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[959],{1157:function(e,s,a){Promise.resolve().then(a.bind(a,257))},257:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return MenuPage}});var t=a(7437),r=a(2265),i=a(4033),n=a(9598),l=a(3611),c=a(708),d=a(5831),o=a(8892),m=a(3464),x=a(8523),u=a(1541),h=a(7824),f=a(1840),g=a(7865);let p=(0,g.Z)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),j=(0,g.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),v=(0,g.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),y=(0,g.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);var N=a(8402),b=a(8247),w=a(4584);let k={id:"xtreme-pizza",name:"Xtreme Pizza Ottawa",description:"Authentic wood-fired pizzas with premium ingredients",cuisine_type:"Italian",rating:4.8,review_count:342,delivery_time:"25-35 min",delivery_fee:2.99,min_order:15,address:"123 Bank Street, Ottawa, ON",phone:"(613) 555-0123",is_open:!0},z=[{id:"1",name:"Margherita Pizza",description:"Fresh mozzarella, san marzano tomatoes, fresh basil, extra virgin olive oil",price:16.99,category:"Pizzas",dietary_tags:["vegetarian"],prep_time:15,rating:4.9,is_popular:!0},{id:"2",name:"Pepperoni Supreme",description:"Premium pepperoni, mozzarella cheese, signature pizza sauce",price:19.99,category:"Pizzas",prep_time:18,rating:4.7,is_popular:!0},{id:"3",name:"Meat Lovers Special",description:"Pepperoni, Italian sausage, ham, bacon, ground beef",price:24.99,category:"Pizzas",prep_time:20,rating:4.6},{id:"4",name:"Caesar Salad",description:"Crisp romaine lettuce, parmesan, croutons, caesar dressing",price:12.99,category:"Salads",dietary_tags:["vegetarian"],prep_time:5,rating:4.4},{id:"5",name:"Garlic Bread",description:"Fresh baked bread with garlic butter and herbs",price:8.99,category:"Sides",dietary_tags:["vegetarian"],prep_time:8,rating:4.5}];function MenuPage(){let e=(0,i.useParams)(),s=null==e?void 0:e.id,[a,g]=(0,r.useState)(null),[Z,C]=(0,r.useState)([]),[_,F]=(0,r.useState)(!0),[M,S]=(0,r.useState)("All"),[P,D]=(0,r.useState)(""),[O,A]=(0,r.useState)({}),[R,L]=(0,r.useState)([]),E=["All",...Array.from(new Set(Z.map(e=>e.category)))],T=Object.values(O).reduce((e,s)=>e+s,0),$=Object.entries(O).reduce((e,s)=>{let[a,t]=s,r=Z.find(e=>e.id===a);return e+(r?r.price*t:0)},0);(0,r.useEffect)(()=>{loadRestaurantData()},[s]);let loadRestaurantData=async()=>{F(!0);try{console.log("\uD83D\uDD0D Loading restaurant and menu data for:",s);let e=await fetch("/api/restaurants/".concat(s));if(!e.ok)throw Error("Failed to fetch restaurant data");let a=await e.json();console.log("✅ Loaded restaurant:",a.restaurant.name),g(a.restaurant);let t=await fetch("/api/restaurants/".concat(s,"/menu"));if(!t.ok)throw Error("Failed to fetch menu data");let r=await t.json();console.log("✅ Loaded ".concat(r.menu.length," menu items")),C(r.menu)}catch(e){console.error("❌ Error loading restaurant data:",e),g(k),C(z)}finally{F(!1)}},q=Z.filter(e=>{let s="All"===M||e.category===M,a=e.name.toLowerCase().includes(P.toLowerCase())||e.description.toLowerCase().includes(P.toLowerCase());return s&&a}),addToCart=e=>{A(s=>({...s,[e]:(s[e]||0)+1}))},removeFromCart=e=>{A(s=>{let a={...s};return a[e]>1?a[e]-=1:delete a[e],a})},toggleFavorite=e=>{L(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};return _?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(o.Z,{className:"h-12 w-12 text-orange-600 animate-bounce mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-lg text-gray-600",children:"Loading delicious menu..."})]})}):a?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white shadow-sm",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,t.jsx)("div",{className:"w-full md:w-64 h-48 bg-gradient-to-br from-orange-400 to-red-500 rounded-xl flex items-center justify-center",children:(0,t.jsx)(o.Z,{className:"h-16 w-16 text-white/80"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:a.name}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:a.description}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(m.Z,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),(0,t.jsx)("span",{className:"font-semibold",children:a.rating}),(0,t.jsxs)("span",{className:"text-gray-500",children:["(",a.review_count," reviews)"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(x.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{children:a.delivery_time})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(u.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{children:["$",a.delivery_fee," delivery"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{children:a.address})]}),a.phone&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{children:a.phone})]})]})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)(l.z,{variant:"outline",size:"sm",children:[(0,t.jsx)(p,{className:"h-4 w-4 mr-1"}),"Share"]})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(c.C,{className:a.is_open?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:a.is_open?"\uD83D\uDFE2 Open":"\uD83D\uDD34 Closed"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["Minimum order: $",a.min_order.toFixed(2)]})]})]})]})})}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(j,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,t.jsx)(d.I,{placeholder:"Search menu items...",value:P,onChange:e=>D(e.target.value),className:"pl-10"})]}),(0,t.jsxs)(l.z,{variant:"outline",className:"flex items-center gap-2",children:[(0,t.jsx)(v,{className:"h-4 w-4"}),"Filters"]})]}),(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:E.map(e=>(0,t.jsx)(l.z,{variant:M===e?"default":"outline",size:"sm",onClick:()=>S(e),className:"whitespace-nowrap",children:e},e))})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:q.map(e=>{var s;return(0,t.jsx)(n.Zb,{className:"hover:shadow-lg transition-all duration-300",children:(0,t.jsx)(n.aY,{className:"p-0",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"w-32 h-32 bg-gradient-to-br from-orange-200 to-red-300 flex items-center justify-center",children:(0,t.jsx)(o.Z,{className:"h-8 w-8 text-orange-600"})}),(0,t.jsxs)("div",{className:"flex-1 p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),e.is_popular&&(0,t.jsx)(c.C,{className:"bg-orange-100 text-orange-800 text-xs",children:"Popular"})]}),(0,t.jsx)(l.z,{variant:"ghost",size:"sm",onClick:()=>toggleFavorite(e.id),className:"p-1 h-auto",children:(0,t.jsx)(y,{className:"h-4 w-4 ".concat(R.includes(e.id)?"fill-red-500 text-red-500":"text-gray-400")})})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[null===(s=e.dietary_tags)||void 0===s?void 0:s.map(e=>(0,t.jsx)(c.C,{variant:"secondary",className:"text-xs",children:e},e)),e.rating&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(m.Z,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:e.rating})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:["$",e.price.toFixed(2)]}),e.prep_time&&(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["• ",e.prep_time," min"]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:O[e.id]?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(l.z,{size:"sm",variant:"outline",onClick:()=>removeFromCart(e.id),className:"h-8 w-8 p-0",children:(0,t.jsx)(N.Z,{className:"h-3 w-3"})}),(0,t.jsx)("span",{className:"font-semibold min-w-[20px] text-center",children:O[e.id]}),(0,t.jsx)(l.z,{size:"sm",onClick:()=>addToCart(e.id),className:"h-8 w-8 p-0 bg-orange-600 hover:bg-orange-700",children:(0,t.jsx)(b.Z,{className:"h-3 w-3"})})]}):(0,t.jsxs)(l.z,{size:"sm",onClick:()=>addToCart(e.id),className:"bg-orange-600 hover:bg-orange-700",children:[(0,t.jsx)(b.Z,{className:"h-4 w-4 mr-1"}),"Add"]})})]})]})]})})},e.id)})}),0===q.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(j,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500",children:"No items found matching your search."})]})]}),(0,t.jsx)("div",{className:"hidden lg:block w-80",children:(0,t.jsxs)(n.Zb,{className:"sticky top-8",children:[(0,t.jsx)(n.Ol,{children:(0,t.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(w.Z,{className:"h-5 w-5"}),"Your Order (",T,")"]})}),(0,t.jsx)(n.aY,{children:0===Object.keys(O).length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(w.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Your cart is empty"}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Add items to get started"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"space-y-4 mb-6",children:Object.entries(O).map(e=>{let[s,a]=e,r=Z.find(e=>e.id===s);return r?(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium",children:r.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["$",r.price.toFixed(2)," each"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(l.z,{size:"sm",variant:"outline",onClick:()=>removeFromCart(s),className:"h-6 w-6 p-0",children:(0,t.jsx)(N.Z,{className:"h-3 w-3"})}),(0,t.jsx)("span",{className:"font-semibold min-w-[20px] text-center",children:a}),(0,t.jsx)(l.z,{size:"sm",onClick:()=>addToCart(s),className:"h-6 w-6 p-0 bg-orange-600 hover:bg-orange-700",children:(0,t.jsx)(b.Z,{className:"h-3 w-3"})})]})]},s):null})}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,t.jsxs)("span",{className:"text-lg font-bold",children:["Total: $",$.toFixed(2)]})}),(0,t.jsx)(l.z,{className:"w-full bg-orange-600 hover:bg-orange-700",disabled:$<a.min_order,children:$<a.min_order?"Minimum order $".concat(a.min_order.toFixed(2)):"Proceed to Checkout"})]})]})})]})})]})}),T>0&&(0,t.jsx)("div",{className:"lg:hidden fixed bottom-4 left-4 right-4",children:(0,t.jsxs)(l.z,{className:"w-full bg-orange-600 hover:bg-orange-700 h-12 text-lg font-semibold shadow-lg",children:[(0,t.jsx)(w.Z,{className:"h-5 w-5 mr-2"}),"View Cart (",T,") • $",$.toFixed(2)]})})]}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("p",{className:"text-lg text-gray-600",children:"Restaurant not found"})})})}},708:function(e,s,a){"use strict";a.d(s,{C:function(){return n}});var t=a(7437),r=a(2265),i=a(1628);let n=r.forwardRef((e,s)=>{let{className:a,variant:r="default",...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{default:"bg-primary hover:bg-primary/80 text-primary-foreground",secondary:"bg-secondary hover:bg-secondary/80 text-secondary-foreground",destructive:"bg-destructive hover:bg-destructive/80 text-destructive-foreground",outline:"text-foreground border border-input"}[r],a),...n})});n.displayName="Badge"},3611:function(e,s,a){"use strict";a.d(s,{z:function(){return n}});var t=a(7437),r=a(2265),i=a(1628);let n=r.forwardRef((e,s)=>{let{className:a,variant:r="default",size:n="default",...l}=e;return(0,t.jsx)("button",{className:(0,i.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"}[r],{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}[n],a),ref:s,...l})});n.displayName="Button"},9598:function(e,s,a){"use strict";a.d(s,{Ol:function(){return l},Zb:function(){return n},aY:function(){return o},ll:function(){return c}});var t=a(7437),r=a(2265),i=a(1628);let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});n.displayName="Card";let l=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...r})});l.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("h3",{ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",a),...r})});o.displayName="CardContent";let m=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",a),...r})});m.displayName="CardFooter"},5831:function(e,s,a){"use strict";a.d(s,{I:function(){return n}});var t=a(7437),r=a(2265),i=a(1628);let n=r.forwardRef((e,s)=>{let{className:a,type:r,...n}=e;return(0,t.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...n})});n.displayName="Input"},1628:function(e,s,a){"use strict";a.d(s,{cn:function(){return cn}});var t=a(7042),r=a(3986);function cn(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,r.m)((0,t.W)(s))}},8523:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(7865);let r=(0,t.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7824:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(7865);let r=(0,t.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},8402:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(7865);let r=(0,t.Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},1840:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(7865);let r=(0,t.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},8247:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(7865);let r=(0,t.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4584:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(7865);let r=(0,t.Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},1541:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(7865);let r=(0,t.Z)("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]])}},function(e){e.O(0,[609,971,472,744],function(){return e(e.s=1157)}),_N_E=e.O()}]);